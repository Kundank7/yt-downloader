<!DOCTYPE html>
<html lang="en">
<head>
  <style>
/* HTML: <div class="loader"></div> */
.loader {
  width: fit-content;
  font-weight: bold;
  font-family: monospace;
  font-size: 30px;
  background: linear-gradient(90deg,#000 50%,#0000 0) right/200% 100%;
  animation: l21 2s infinite linear;
  margin: 20px auto;
}

.loader::before {
  content: "Loading...";
  color: #0000;
  padding: 0 5px;
  background: inherit;
  background-image: linear-gradient(90deg,#fff 50%,#000 0);
  -webkit-background-clip: text;
  background-clip: text;
}

@keyframes l21 {
  100% {
    background-position: left;
  }
}
</style>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>YouTube Downloader</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100 flex items-center justify-center h-screen">
  <div class="bg-white p-8 rounded shadow-md w-full max-w-md">
    <h1 class="text-2xl font-bold mb-6 text-center">YouTube Video Downloader</h1>
   <form id="downloadForm" action="/" method="POST" target="downloadFrame">
  <input type="text" name="url" placeholder="Enter YouTube URL" required>
  <select name="resolution" required>
    <option value="480">480p</option>
    <option value="720">720p</option>
    <option value="1080">1080p</option>
  </select>

  <!-- Loader above button -->
  <div id="loader" class="loader" style="display: none; margin-top: 10px;"></div>

  <button type="submit">Download</button>
</form>

<!-- Hidden iframe to catch file download -->
<iframe name="downloadFrame" style="display: none;" onload="hideLoader()"></iframe>

  </div>
  <script>
  document.addEventListener("DOMContentLoaded", function () {
    const form = document.querySelector("form");
    const loader = document.getElementById("loader");

    form.addEventListener("submit", function () {
      loader.style.display = "block";
    });
  });
</script>
</body>
</html>
